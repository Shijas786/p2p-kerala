import { ethers } from 'ethers'; async function main() { const p = new ethers.JsonRpcProvider('https://mainnet.base.org'); const c = new ethers.Contract('0x78c2B85759C5F7d58fEea82D0Be098E540272245', ['event TradeCreated(uint256 indexed tradeId, address indexed seller, address indexed buyer, address token, uint256 amount, uint256 feeAmount, uint256 deadline)'], p); const filter = c.filters.TradeCreated(); const logs = await c.queryFilter(filter, -10000); console.log('Recent Trades:', logs.length); logs.forEach((l: any) => { console.log('Trade ID:', l.args[0].toString(), 'Seller:', l.args[1], 'Amt:', l.args[4].toString()); }); } main();
