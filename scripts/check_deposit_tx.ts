import { ethers } from 'ethers'; async function main() { const p = new ethers.JsonRpcProvider('https://mainnet.base.org'); const c = new ethers.Contract('0x78c2B85759C5F7d58fEea82D0Be098E540272245', ['event Deposit(address indexed user, address indexed token, uint256 amount)'], p); const logs = await c.queryFilter(c.filters.Deposit(), -10000); logs.forEach((l: any) => { console.log('Tx:', l.transactionHash, 'User:', l.args[0], 'Amt:', l.args[2].toString()); }); } main();
