import { ethers } from 'ethers'; async function main() { const p = new ethers.JsonRpcProvider('https://mainnet.base.org'); const usdc = new ethers.Contract('0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913', ['event Transfer(address indexed from, address indexed to, uint256 value)'], p); const filter = usdc.filters.Transfer('0x78c2B85759C5F7d58fEea82D0Be098E540272245'); const logs = await usdc.queryFilter(filter, -10000); console.log('Transfers OUT from Escrow:', logs.length); logs.forEach((l: any) => { console.log('To:', l.args[1], 'Amt:', ethers.formatUnits(l.args[2], 6)); }); } main();
